import{_ as b,r as _,l as v,m as y,o,c as a,a as s,g as r,F as k,h as x,t as i,d as T}from"./entry-hg7RBPBW.js";const w={class:"mt-5 bg-dark text-white p-4 rounded"},N={key:0,class:"text-center py-4"},S={key:1,class:"list-group"},D={class:"row border-bottom border-1 pb-3"},E={class:"col-12 col-md-2 mb-4 mb-md-0"},L={class:"mb-1"},B={class:"text-muted"},I={class:"text-muted mb-0"},R={class:"col-12 col-md-10 text-md-end"},V={class:"mb-2"},$={class:"mb-2 text-info small"},A=["href"],C={key:0,class:"mb-0"},F={key:0,class:"text-center mt-3"},q={key:2,class:"text-muted text-center"},J={__name:"EventsList",props:{limit:{type:Number,default:1/0}},setup(c){const h=c,n=_([]),l=_(!0);async function g(){const m=await $fetch("https://api.chrispecmusic.com/events");n.value=JSON.parse(m).items.map(t=>{var u,p;const e=(u=t.start)!=null&&u.dateTime?new Date(t.start.dateTime):null,d=(p=t.end)!=null&&p.dateTime?new Date(t.end.dateTime):null;return{id:t.id,summary:t.summary,location:t.location||"TBD",description:t.description||"",date:e?e.getDate():"N/A",month:e?e.toLocaleString("default",{month:"long"}):"N/A",timeRange:e&&d?`${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} - ${d.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"Time not available"}}),l.value=!1}const f=v(()=>n.value.slice(0,h.limit));return y(()=>{g()}),(m,t)=>(o(),a("div",w,[t[3]||(t[3]=s("h2",{class:"mb-4 text-center"},"Events",-1)),l.value?(o(),a("div",N,t[0]||(t[0]=[s("i",{class:"fa fa-spinner fa-spin fa-2x"},null,-1)]))):r("",!0),!l.value&&n.value.length?(o(),a("div",S,[(o(!0),a(k,null,x(f.value,(e,d)=>(o(),a("div",{key:e.id,class:"list-group-item mb-3 bg-dark border-0"},[s("div",D,[s("div",E,[s("h4",L,i(e.date),1),s("p",B,i(e.month),1),s("p",I,i(e.timeRange),1)]),s("div",R,[s("h4",V,i(e.summary),1),s("div",$,[s("a",{href:"https://www.google.com/maps/search/?api=1&query="+encodeURIComponent(e.location),target:"_blank"},[t[1]||(t[1]=s("i",{class:"fa fa-map-marker me-2"},null,-1)),T(i(e.location.split(",")[0]),1)],8,A)]),e.description?(o(),a("p",C,i(e.description),1)):r("",!0)])])]))),128)),n.value.length>c.limit?(o(),a("div",F,t[2]||(t[2]=[s("a",{href:"/events",class:"text-info"},"See all",-1)]))):r("",!0)])):l.value?r("",!0):(o(),a("p",q,"No upcoming events."))]))}},O=b(J,[["__scopeId","data-v-1343e3b8"]]);export{O as _};
